define(["require","exports","tslib","external/lodash","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/types","modules/clean/react/comments2/transforms","modules/clean/uuid","modules/clean/react/comments2/video_annotations/constants","modules/clean/react/comments2/video_annotations/video_preview_event_emitter","modules/clean/react/comments2/video_annotations/annotation_helper","modules/clean/react/comments2/util"],function(e,n,o,t,a,d,r,i,m,c,s,l){"use strict";function u(e,n,o,u,v){function T(e){var n=s.VideoAnnotationHelper.unitConvertDomainObjectTimeToSeconds(e);c.videoPreviewEventEmitter.emit(m.EventTypes.SEEK_POSITION_AND_PAUSE,n)}function h(e){c.videoPreviewEventEmitter.emit(m.EventTypes.PAUSE)}function p(n){e(a.activateThreadAndMarkAsRead(n));var o=n.annotation;if(l.isTimecodeAnnotation(o)){var t=s.VideoAnnotationHelper.unitConvertDomainObjectTimeToSeconds(o.time);c.videoPreviewEventEmitter.emit(m.EventTypes.SEEK_POSITION_AND_PAUSE,t)}}function A(){e(a.deactivateAllThreads())}return v?{onClickTimeCode:T,onEditorFocused:h,onThreadActivated:p,onAllThreadsDeactivated:A,onThreadCreated:function(t,d){var m=r.iCommentContentToUserSubmittedComment({annotation:d,content:t,stream:n}),c=i.UUID.v4();e(a.addComment({author:r.dbxUserToIUser(v),comment:m,content:t,guid:c,annotation:d})).then(function(){if(d&&o.length)for(var n=0,t=o;n<t.length;n++){var r=t[n];e(a.Actions.markOnboarded(r))}})},onThreadRepliedTo:function(o,t){var d=r.iCommentContentToUserSubmittedComment({content:t,stream:n}),m=i.UUID.v4();e(a.addComment({author:r.dbxUserToIUser(v),comment:d,content:t,threadId:o,guid:m}))},onThreadMarkedAsRead:function(n){e(a.Actions.markThreadRead({threadId:n,origin:d.MarkThreadReadOrigin.UIButtonClicked}))},onThreadMarkedAsUnread:function(n){e(a.Actions.markThreadUnread(n))},onThreadResolved:function(n){e(a.Actions.markThreadResolved(n))},onThreadUnresolved:function(n){e(a.Actions.markThreadUnresolved(n))},onCommentEdited:function(n,o,t){e(a.editComment(n,t,o))},onCommentDeleted:function(n,o){e(a.deleteComment(n,o))},onMentionsQueryUpdated:u}:{onClickTimeCode:T,onEditorFocused:h,onThreadActivated:p,onAllThreadsDeactivated:A,onThreadCreated:t.noop,onThreadRepliedTo:t.noop,onThreadMarkedAsRead:t.noop,onThreadMarkedAsUnread:t.noop,onThreadResolved:t.noop,onThreadUnresolved:t.noop,onCommentEdited:t.noop,onCommentDeleted:t.noop,onMentionsQueryUpdated:t.noop}}Object.defineProperty(n,"__esModule",{value:!0}),t=o.__importStar(t),a=o.__importStar(a),n.createActionsAdapter=u});
//# sourceMappingURL=actions_adapter.min.js-vfle9ApfK.map